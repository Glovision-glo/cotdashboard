<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> -->
<!-- <!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> -->
<!-- <html xmlns='http://www.w3.org/1999/xhtml' xmlns:v='urn:schemas-microsoft-com:vml'>-->
<!-- custom/loginSession_cbanner.jsp: E2.5.3-B03 [default] page=login
  =======================================================================================
  Copyright(C) 2007-2013 Glovision Techno Services, All rights reserved
  Centered image banner
  =======================================================================================
-->
<!-- meta -->
<html>
   <head>
       <meta name="author" content="Glovision Techno Services"/>
       <meta http-equiv="content-type" content='text/html; charset=UTF-8'/>
       <link rel="shortcut icon" href="images/glovision.ico"/>
       <title>Glovision Techno Services</title>
       <script src="js/jquery-1.9.1.min.js"
           type="text/javascript"></script>
     <!--    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
      <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>-->
         <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=drawing"></script> 
          <script type="text/javascript" src="js/markerlabel.js"></script>
       <!--  <script src="../../../vehiclesStatus.js" type="text/javascript"></script> -->
        <script src="js/tac.js" type="text/javascript"></script>
      <!--    <script src="../../../search.js" type="text/javascript"></script>-->
<!-- menu bar-->
      
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
<link href="css/menubar.css" rel="stylesheet" type="text/css" />        
    <link href="css/fuelbar.css" rel="stylesheet" type="text/css" /> 
       <link rel="stylesheet" type="text/css" href="js/jquery.datetimepicker.css"/>
<script src="js/jquery.datetimepicker.js" type="text/javascript"></script>

       <script>
           google.maps.event.addDomListener(window, 'load', initialise4);
           var nochangeofflineonlineidle='no';
            var showorhidemarkers="hide";
           $(document).ready(function(){ 
        	   
        	 
        	 $(".editableBox").change(function(){         
        	         $(".timeTextBox").val($(".editableBox option:selected").html());
        	             });
        		  
        		$('.load_image1').show();
        		vehicleAvailable=[];
        		var requestFromTrack="no";
        		var AccountIDFromTrack;
        		vehicleWithEventData=[];
        	
        		$("#play").attr("disabled", "disabled");
        		var liveSpeedMonitoringAtLoad=function(){
        			vehicleStatusFunction();
        			$("#play").attr("disabled", "disabled");
        		id=setInterval(function(){
        			vehicleStatusFunction();

        		 },180000);



                          /*       setInterval(function(){
                                              casemanagementupdates();

                                    },10000);
                              */
        		}

                 

        		//180000
        	    var vehicleStatusFunction=function(){
        	    	$('.vehicleStatusReport').hide();
        	    //	$('.load_image1').show();
        	    var Account=window.localStorage.getItem('accountID');
        	   /* if(requestFromTrack=="yes") {
        	    	Account="nslsugars";
            	    window.localStorage.setItem('accountID',Account);
            	  alert(Account+' ra,ama');
            	  }
        	  
        	    */
        	      
        	    var vid=$( "#vehicleID" ).val();
        	    var from=$( "#fromDate" ).val();
        	    var to=$( "#toDate" ).val();
        	    from=fuelDBConverts(from);
        	    to=fuelDBConverts(to);
        	  
        	    var userID= window.localStorage.getItem('userId');
        	    $.ajax({
        	        type : 'get',
        	        //url:'php/vehiclesStatus.php',
        	        url:'php/vehiclesStatus.php',
        	        data:{"vehicleID":vid, "accountID":Account,"fromDate":from,"toDate":to,"userID":userID},
        	        dataType:'json',
        	        success: function(data) {
        	            $.each(data, function() {
        	                 $.each(data, function(key, value) {
        	                	 if(value.length<=1){ 
        	                		 //alert("Vehicle Has No movement");
        	                	 }
        	                	// alert(value.length);
        	                     globalVehicles= window.localStorage.getItem('globalVehicles').split(',');//getting global Vehicles From FuelVehicles.js     
        	                     globalVehicles1= window.localStorage.getItem('globalVehicles1').split(',');//getting global Vehicles From FuelVehicles.js     
        	                     var vehicleWithEventDataIndx=0;
        	                     //alert(value.length);
        	                     
        	                	 for(var vehicleindx=0;vehicleindx<globalVehicles.length;vehicleindx++,vehicleWithEventDataIndx++){
        	                	     vehicleWithEventData[vehicleWithEventDataIndx]=[];//create doube array for each vehicle to store event data
        	                		 var eventDataIndx=0;
        	                	     for(var loopindx1=0;loopindx1<value.length;loopindx1++){
        	                		     if(globalVehicles[vehicleindx].toLowerCase()==value[loopindx1][9].toLowerCase()){
        	                                 vehicleWithEventData[vehicleWithEventDataIndx][eventDataIndx]=value[loopindx1];
        	                                 eventDataIndx++;
        	                             }
        	                	     }//end inner oop
        	                	 }//end outer loop
        	                	 //alert(vehicleWithEventDataIndx);
        	                	 var i=document.getElementById("Name");
           	                	 var displayAccountID=Account;
                                        if(Account=="gvk-up-108")
                                               displayAccountID="Samajwadi Swasthya Sewa |UP-108";
                                        else if(Account=="gvk-up-102")
                                             displayAccountID="National Ambulance Service | UP-102";
                                        i.innerHTML="<font color='black'> Welcome :"+displayAccountID+" | "+userID +' | <u style="color:black;"><a onclick="back()" rel="external" style="color:black;">Back</a></u>  </font>';

                                        var showmap= window.localStorage.getItem('showmap');
        	                	 if(showmap=="all" || showmap=="online" || showmap=="offline" || showmap=="idle" || showmap=="single"){
        	                	         
                                                  allVehicleStatus(); 
                                                  // groupwisedisplay();
        	                	 }else{
        	                	    MapClear();
        	                	 }
        	                });
        	            });
        	        }
        	     });
        	}
        	    
        	    var value = window.localStorage.getItem('packagingidentify');
        	    var Account=window.localStorage.getItem('accountID');
          	  /*   if(Account == '' || Account == undefined) {
          	    	
       	    	   Account="nslsugars";
           	       window.localStorage.setItem('accountID',Account);
           	       alert(Account);
           	      requestFromTrack="yes";
       	         }
        	    */
        	    
                value=value.split(",");
                 if(value[22]!='1'){
                     window.alert("You are not entitled to use this feature please contact support@glovision.co")
                     window.location = 'main.jsp'
                 }else{
                	  
        	    $(window).load(validuser);
        	    $(window).load(vehicle);
        	    $(window).load(liveSpeedMonitoringAtLoad);
                  //  $(window).load(casemanagementupdates);


        	    $('#vehicleID').change(vehicleStatusFunction);
        	    $('#reset').click(allvehiclesInfo);
        	    
        	    $('#online').click(online);
        	    $('#idle').click(idle);
        	    $('#offline1').click(offline);
        	    
        	    
        	    $('#getRoute').click(vehicleStatusFunction);
        	    $('#multyPath').click(twoVehiclePath);
        	    $('#allVehicles').click(allVehicleStatus);
        	    $('#lableDiplay').change(allVehicleStatus);
        	    $('#play').click(liveSpeedMonitoringAtLoad);
        	    $('#allVehiclesWithRoutes').click(allVehicleStatusWithRoute);
        	    $('#MapClear').click(MapClear);
        	    
                 }
        	    
        	    
        	})
       </script>
      
   </head>



   <style>
    body { height:97%;width:99%; margin: 0; padding: 0;background:#e5e7e9 ; } 
   #mapcontainer { height: 95%;width:100%;left:0%;top:18%;border-style: solid;border-color: #086A87;border-radius: 10px;

                    background:#086A87 ;
                    } 
   #wrapper { position: relative; } 
     #availableVehicle{height:10%;width:100%;position: absolute; background-color: transparent; top:18%; left: 0%; z-index: 99; background:#086A87 ;opacity:1;}
  #vehicleStatusReport {opacity:0.8;height: 77%;width:100%; position: absolute; background-color: transparent; top:28%; left: 0%; z-index: 99; background: white;border-style: solid;border-radius: 10px;border-color: #086A87; } 
  #time { position: absolute; background-color: transparent; bottom: 10px; right: 10px; z-index: 99; background: #81BEF7;opacity:0.5; }

   #logout { width:100%;left:0%;height:18%;position: absolute; background-color: transparent; z-index: 99; background:#e5e7e9;opacity:1;border-radius:10px;} 
  #arrow{
   border-color: transparent transparent #084B8A transparent;
    border-style: solid;
    border-width: 0px 10px 10px 10px;
    height: 0px;
    width: 0px;
    position: absolute;top:98%; left: 68%; z-index: 99; background: #FBF3F3;opacity:1;
 
  }

.image_left {
	    -webkit-transform: rotate(180deg);
	    	    -moz-transform: rotate(180deg);
	    	    	    -ms-transform: rotate(180deg);
	    	    	    	    -o-transform: rotate(180deg);
	    	    	    	    	    transform: rotate(180deg);
	    	    	    	    	    	}

    #arrow2{
   border-color: transparent transparent #084B8A transparent;
    border-style: solid;
    border-width: 0px 40px 40px 40px;
     border-height: 0px 40px 40px 40px;
    height: 0px;
    width: 0px;
    position: absolute;top:94%; left: 68%; z-index: 99; background: #FBF3F3;opacity:1;
 
  }

 .labels {
      color:  black ;
           background-color:white;
                     font-size: 10px;
                    font-weight: bold;
                               text-align: center;
                                border-radius:10px;
                                   /* width: 70px;
                                    height:20px;*/
                                         border: 1px solid  red;
                                             /*word-break: break-all;*/
                                              white-space: nowrap;
                                                 }
     #bottom {

      position: absolute; background-color: transparent;width:60%; top:99%; left: 37%; z-index: 99; background: #084B8A;opacity:1;} 
  
  #report {

      position: absolute; background-color: transparent; top:7%;right:5%; z-index: 99;background:#086A87;border-radius:10px;opacity:0.8;
      } 
  
   #allVehicls {left:5%;top:7%; position: absolute; width:90%;background-color: transparent;  z-index: 99; background: #a3e4d7;opacity:0.8;} 
    #runningVehilces {left:5%;top:7%; position: absolute; width:90%;background-color: #A9F5A9;  z-index: 99; background: #a3e4d7;opacity:0.8;} 
  #idleVehilces { left:5%;top:7%;position: absolute; width:90%;background-color: transparent; z-index: 99; background: #a3e4d7;opacity:0.8;} 
  #offlineVehilces {left:5%;top:7%; position: absolute; width:90%;background-color: transparent; z-index: 99; background:#a3e4d7;opacity:0.8;} 
  #casemanagement{display:none;font-weight: bold;font-size: 15px;position: absolute; background-color: transparent; top:55%; left: 5%; z-index: 99;85929e ;border-radius:10px;opacity:1;width:150px;height:200px;} 
   #flags{font-weight: bold;font-size: 15px;position: absolute; background-color: transparent; top: 50%; left: 0%; z-index: 99; background:  #85929e ;border-radius:10px;opacity:0.8;}
  .load_image1{ height: 92%;width:80%;left:6%;top:8%;border-radius: 10px; position: absolute; background-color: transparent; z-index: 99; background: #CDD0D0; opacity:0.3;}
 #searchresult{ position: absolute; background-color: transparent; top:97%;left:49%; z-index: 99; background: #81BEF7;opacity:1; }
 #cmgtshowhide{display:none; position: absolute; background-color: transparent; top:97%;left:6%; z-index: 99; background: #81BEF7;opacity:1; } 
 #contactsearch{display:none; position: absolute; background-color: transparent; top:8%;left:38%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px;  }


 #mail{ position: absolute; background-color: transparent; top:18%;right:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1; }
#live{ position: absolute; background-color: transparent; top:80%;left:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }  
#div1{ position: absolute; background-color: transparent; top:20%;left:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div2{ position: absolute; background-color: transparent; top:35%;left:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div3{ position: absolute; background-color: transparent; top:60%;left:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div4{ position: absolute; background-color: transparent; top:75%;left:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div5{ position: absolute; background-color: transparent; top:90%;left:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }

#div6{ position: absolute; background-color: transparent; top:20%;right:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div7{ position: absolute; background-color: transparent; top:35%;right:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div8{ position: absolute; background-color: transparent; top:60%;right:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div9{ position: absolute; background-color: transparent; top:75%;right:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }
#div10{ position: absolute; background-color: transparent; top:90%;right:0px;width:5%; z-index: 99; background: #81BEF7;opacity:1;border-radius: 10px; }


 #msg{ position: absolute; background-color: transparent; top: 250px; right: 10px; z-index: 99; background: #81BEF7;opacity:1; }
  #flags,#msg {
   
    background: white;
    border-style: solid;
    border-color: #086A87;
   
   
} 
      #innerDiv {
   
    background: white;
    border-style: solid;
    border-color: #0000ff;
    width:29%;
    height: 80%; 
}
  
.load_image2{
background-image:url('images/ajax-loader-original.gif');
 width: 47px;  
height: 47px;
align:center;
}
.divdisign
{
font-size:5pt;
font-family:times new roman;
font-weight:bold;
font-style:italic;

}
.editableBox {
    width: 75px;
        height: 20px;
        }

.timeTextBox {
    width: 54px;
        margin-left: -78px;
            height: 20px;
                border: none;
                }


input[type=button],a{
 cursor:pointer;
}

   </style>
   <script language="javascript"> 
 
   function show() {
     // Get the DOM reference
     var contentId = document.getElementById("vehicleStatusReport");
     
   contentId.style.display = "block"; 
  /* var duration = 1000;
   // how many times should it should be changed in delay duration
   var AmountOfActions=100;

contentId.style.height = 0;  
var counte=0;
   setInterval(function(){counte ++;
      if ( counte<AmountOfActions) { contentId.style.height = counte/AmountOfActions;}
   },
   duration / AmountOfActions);
   */
   }
    
  function hide(){
      var contentId = document.getElementById("vehicleStatusReport");
         // Toggle 
         contentId.style.display = "none"; 
        /* contentId.style.display == "block" ? contentId.style.display = "none" : 
       contentId.style.display = "block"; */
  }
  
  function allshow(event) {
	  var contentId = document.getElementById("allVehicls");
	  contentId.style.display = "block"; 
	// alert(event.clientX);  
        //  contentId.style.position = "absolute";
          //contentId.style.left = event.clientX+'px';
          //contentId.style.top =(event.clientY+15)+'px';

	  document.getElementById("runningVehilces").style.display = "none"; 
	  document.getElementById("idleVehilces").style.display = "none"; 
	  document.getElementById("offlineVehilces").style.display = "none"; 
  }
  function allhide() {
         document.getElementById('report').style.display = 'none';
         document.getElementById('vehicleStatusReport').style.display = 'none';
         document.getElementById('availableVehicle').style.display = 'none';
         document.getElementById('flags').style.display = 'none';

	 document.getElementById('invoice').style.display = 'none';
	  document.getElementById('vehiclehealth').style.display = 'none';  
	       var userID=window.localStorage.getItem('userId');
	      // document.getElementById('vehiclehealth').style.display = 'none';
      if(userID=="monitoring"){
	      //document.getElementById('vehiclehealth').style.display = 'none';
	      document.getElementById('invoice').style.display = 'none';
             document.getElementById('vehiclehealth').style.display = 'none';	    
              document.getElementById('offline').style.display = 'none'; 
              document.getElementById('overspeed').style.display = 'none';
              
      }
      if(userID=="tracking"){
             document.getElementById('vehiclehealth').style.display = 'none'; 
              document.getElementById('invoice').style.display = 'none';
              document.getElementById('offline').style.display = 'none';
              document.getElementById('online1').style.display = 'none';

                            document.getElementById('overspeed').style.display = 'none';
       }
        var ac=window.localStorage.getItem('accountID');
        if(ac=="gvkrajasthan"){
           document.getElementById('offline').value = 'Offline';
           // document.getElementById('offline1').value = 'Offline';


        }
    
	  var contentId = document.getElementById("allVehicls");
      contentId.style.display = "none"; 
      document.getElementById("runningVehilces").style.display = "none"; 
	  document.getElementById("idleVehilces").style.display = "none"; 
	  document.getElementById("offlineVehilces").style.display = "none"; 
  }
  function runningshow(event) {
	  var contentId = document.getElementById("runningVehilces");
	  contentId.style.display = "block"; 
	  // contentId.style.position = "absolute";
	  //           contentId.style.left = event.clientX+'px';
	  //                     contentId.style.top =(event.clientY+15)+'px';
	  document.getElementById("allVehicls").style.display = "none"; 
	  document.getElementById("idleVehilces").style.display = "none"; 
	  document.getElementById("offlineVehilces").style.display = "none"; 
  }
  function idleshow(event) {
	  var contentId = document.getElementById("idleVehilces");
      contentId.style.display = "block"; 
      // contentId.style.position = "absolute";
      //           contentId.style.left = event.clientX+'px';
       //                    contentId.style.top =(event.clientY+15)+'px';
      document.getElementById("runningVehilces").style.display = "none"; 
	  document.getElementById("allVehicls").style.display = "none"; 
	  document.getElementById("offlineVehilces").style.display = "none"; 
  }
  function offlineshow(event) {
	  var contentId = document.getElementById("offlineVehilces");
      contentId.style.display = "block"; 
      // contentId.style.position = "absolute";
       //          contentId.style.left = event.clientX+'px';
       ///                    contentId.style.top =(event.clientY+15)+'px';
      document.getElementById("runningVehilces").style.display = "none"; 
	  document.getElementById("idleVehilces").style.display = "none"; 
	  document.getElementById("allVehicls").style.display = "none"; 
  }
  
  function reporthide() {
	  var contentId = document.getElementById("report");
      contentId.style.display = "none"; 
     
    // document.getElementById("bottom").style.display = "block";
    //  document.getElementById("arrow").style.display = "block";
     // document.getElementById("arrow2").style.display = "block";
       // document.getElementById("arrow").style.top = "98%"; 
      //document.getElementById("runningVehilces").style.display = "none"; 
	  //document.getElementById("idleVehilces").style.display = "none"; 
	 // document.getElementById("offlineVehilces").style.display = "block"; 
  }
  function reportshow(){
//	  var contentId = document.getElementById("report");
//      contentId.style.display = "block";
    //  document.getElementById("arrow").style.display = "block";
    //  document.getElementById("bottom").style.display = "block";
     // document.getElementById("arrow2").style.display = "block";
    
     
  }
  
  function getOffline(){
		 var formate =document.getElementById("reportFormate").value;
		 var ac=window.localStorage.getItem('accountID');
		  var uid=window.localStorage.getItem('userId');
		  var groupdevice=document.getElementById('groupdevice').value;
		 		  if(uid != "monitoring"){
		 // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);
		 window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate+"&selectedgroup="+groupdevice);
		 }
		 
    
}


 function getOfflineDownload(){
                     var groupdevice=document.getElementById('groupdevice').value;

                     var formate =document.getElementById("reportFormate").value;
                     var ac=window.localStorage.getItem('accountID');
                     var uid=window.localStorage.getItem('userId');
                                                                      // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);
                                                                                       window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate=excel&selectedgroup="+groupdevice);


    }

function getOfflineNottrackingDownload(){
                  var formate =document.getElementById("reportFormate").value;
                  var ac=window.localStorage.getItem('accountID');
                   var uid=window.localStorage.getItem('userId');
                  var groupdevice=document.getElementById('groupdevice').value;
                  // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);
                                                                                                                                                       window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offlinenottracking&formate=excel&selectedgroup="+groupdevice);


    }
    function getOfflineNotRespondingDownload(){
                   var formate =document.getElementById("reportFormate").value;
                  var ac=window.localStorage.getItem('accountID');
                   var uid=window.localStorage.getItem('userId');
                   var groupdevice=document.getElementById('groupdevice').value;
                   // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);
                                                                                                                                                                     window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offlinenotresponding&formate=excel&selectedgroup="+groupdevice);


    }
function getOfflineDaterange(){
                    var formate =document.getElementById("reportFormate").value;
                   var ac=window.localStorage.getItem('accountID');
                   var groupdevice=document.getElementById('groupdevice').value;
                   var uid=window.localStorage.getItem('userId');

                                     // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);

         window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offlinedaterange&formate=excel&selectedgroup="+groupdevice);


    }


function getOnline(){
                 var formate =document.getElementById("reportFormate").value;
                 var ac=window.localStorage.getItem('accountID');
                 var uid=window.localStorage.getItem('userId');
                var groupdevice=document.getElementById('groupdevice').value;
                // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);
                       window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=online&formate=excel&selectedgroup="+groupdevice);


    }
function getRunning(){
                 var formate =document.getElementById("reportFormate").value;
                 var ac=window.localStorage.getItem('accountID');
                 var uid=window.localStorage.getItem('userId');
                 var groupdevice=document.getElementById('groupdevice').value;
                 // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);
                 window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=running&formate=excel&selectedgroup="+groupdevice);


    
}

function getIdle(){
                 var formate =document.getElementById("reportFormate").value;
                 var ac=window.localStorage.getItem('accountID');
                 var uid=window.localStorage.getItem('userId');
                var groupdevice=document.getElementById('groupdevice').value;
                // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=offline&formate="+formate);
                               window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&offline=idle&formate=excel&selectedgroup="+groupdevice);


    }

function statusReportDownload(){
                var formate =document.getElementById("reportFormate").value;
                 var ac=window.localStorage.getItem('accountID');
                var uid=window.localStorage.getItem('userId');
                var groupdevice=document.getElementById('groupdevice').value;
                // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&formate="+formate);
                                window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&formate=excel&selectedgroup="+groupdevice);


        }

	function statusReport(){
		var formate =document.getElementById("reportFormate").value;
		 var ac=window.localStorage.getItem('accountID');
		  var uid=window.localStorage.getItem('userId');
                 var groupdevice=document.getElementById('groupdevice').value;

 // window.open("/dashboard/php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&formate="+formate);
		  window.open("php/vehiclesStatus.php?&accountID="+ac+"&userID="+uid+"&currentLocation=currentlocation&formate="+formate+"&selectedgroup="+groupdevice);

		
	}
	function inmotion(){
		var formate =document.getElementById("reportFormate").value;
		 var ac=window.localStorage.getItem('accountID');
		  var uid=window.localStorage.getItem('userId');
		if(ac!="goghealth" && ac!="gvk-ut-gogh"){   
		  window.open("php/InmotionReport.php?&accountID="+ac+"&userID="+uid+"&formate="+formate);
                 }else{
                        window.open("http://goghealth.glovision.co/casemanagerdashboard/php/InmotionReport.php?&accountID="+ac+"&userID="+uid+"&formate="+formate);

                 }
		
	}
	
	function Showandhide(){


                 $("#report").slideToggle("slow");
                /*   $("#report").animate({
                         marginLeft: parseInt($("#report").css('marginLeft'),10) == 0 ?
                                 $("#report").outerWidth() :
                                         0
                                             });;
*/
}
//var x=0;
  function searchresultshowhide(){
                    /* if(x==0){
                             x=1;
                        document.getElementById("searchresult").style.left = "49%";
                         document.getElementById("searchresult").style.top = "26%";   
                      }else{
                         x=0;
                             document.getElementById("searchresult").style.left = "49%";
                                                      document.getElementById("searchresult").style.top = "94%";  
                      }*/
              //    $("#vehicleStatusReport").slideToggle("slow");
//            $("#vehicleStatusReport").toggle("slide");
  //                             $("#vehicleStatusReport").animate({marginTop:"0px"}, 200);
//$("#availableVehicle").toggle("slide");
                //  $("#availableVehicle").slideToggle("slide")
}

function cmgtshowhide(){

        $("#casemanagement").slideToggle("slow");
}



function linveshowandhide(){


          $("#flags").slideToggle("slow");


}
function mapview(){
  document.getElementById('mapcontainer').style.left="0%"; 
   document.getElementById('mapcontainer').style.width="100%";
   document.getElementById("availableVehicle").style.left = "0%";
   document.getElementById("vehicleStatusReport").style.left = "0%";
  document.getElementById("vehicleStatusReport").style.display = "none";
  document.getElementById("availableVehicle").style.display = "none";
}
function textview(){
              
         document.getElementById("availableVehicle").style.left = "0%";
         document.getElementById("availableVehicle").style.top = "18%";
         document.getElementById("availableVehicle").style.width = "100%";
         document.getElementById("vehicleStatusReport").style.left = "0%";
         document.getElementById("vehicleStatusReport").style.top = "28%";
         document.getElementById("vehicleStatusReport").style.width = "100%"
         document.getElementById("vehicleStatusReport").style.display = "block";
         document.getElementById("availableVehicle").style.display = "block";

         document.getElementById('mapcontainer').style.display="block";
         document.getElementById('mapcontainer').style.left="100%";
         document.getElementById('mapcontainer').style.width="0%";


}
function bothview(){
document.getElementById('mapcontainer').style.display="block";
   document.getElementById('mapcontainer').style.left="50%";
   document.getElementById('mapcontainer').style.width="50%";
 
         document.getElementById("availableVehicle").style.left = "0%";
         document.getElementById("availableVehicle").style.width = "50%";
                  document.getElementById("vehicleStatusReport").style.left = "0%";
                  document.getElementById("vehicleStatusReport").style.width = "50%"
                             document.getElementById("vehicleStatusReport").style.display = "block";
                                          document.getElementById("availableVehicle").style.display = "block";


}

   </script>
</script>
   
   <!--  
   <body background="../../../images/background.jpg">
       <table align="center" class="BaseTable" background="#E0E6F8">  
          <tr>
              <td>
                  <div id="header" align="left" data-role="header" data-theme="f">
                  <img src="../../../images/glovision.png" align="center" width="150"
                       height="55">
                  </div>
              </td>
              <td> 
                  <span class="active">  &nbsp; <a href="main.jsp" rel="external">Home</a>&nbsp&nbsp&nbsp&nbsp<u style="color:#47A3FF;"><a href="" align="right" onclick="logout()" style="text-decoration: none;"> Logout</a></u></span>
              </td>
              <td>
                  <div class="accountDiv" align="left" id="acc1"></div>
              </td>
              
               
                                <td>
                                     <select id="vehicleID">
                                           <option value="select">All Vehicle</option>
                                     </select>
                               </td>
                         
              
             
              
              
          </tr>
       </table>
       <br>
       
       <table align="center" border="2" class="one" style="background-color:#5882FA;">
           <tr>
               <td  width="20%">
                    <div class="load_image" align="center" class='hello' style='height:700;border:solid 2px orange;overflow:scroll;overflow-y:scroll;overflow-x:scroll;'>
                             <div class="load_image1" align="center"> </div>
                    </div>
                    <div  id="vehicleStatusReport" class="vehicleStatusReport" align="center" >   </div>
               </td>
               <td width="100%">
                   <div  id="mapcontainer" class="mapcontainer" align="center" >   </div>
               </td>
               <td>
                   <div class='hello' style='height:100%;border:solid 2px orange;overflow:scroll;overflow-y:scroll;overflow-x:scroll;'>
                      <table>
                        
                          <tr>
                               <td colspan="2"><label>From Date:</label><input  id="fromDate" name="fromDate"/></td>
                          </tr>
                          <tr>
                               <td colspan="2"><label>To Date</label><input id="toDate" name="toDate"/></td>
                          </tr>
                          <tr>
                                <td colspan="2"><input type="button" id="reset" value="Reset"/></td>
                          </tr>
                          <tr>
                                  <td colspan="2"><input type="button" id="getRoute" value="Get Route"/></td>
                           </tr>
                          <tr>
                                 <td colspan="2"><input type="button" id="multyPath" value="Two Vehicle Path"/></td>
                          </tr>
                      </table>
                   </div>
               </td>
               
           </tr> 
       </table>
      <div align="center">Powered by <a class="changeBlue" href=""  onclick="window.open('http://www.glovision.co')">Glovision</a></div>
      <div id="footer" data-role="footer" data-theme="f" style="background-color:#81DAF5"> Copyright Â© 2013   Glovision Techno Services Pvt Ltd. " - All Rights Reserved "</div>
   </body>
</html>


-->
<body background="images/background.jpg" onload="allhide();reportshow();">

      
         <div id="allVehicls" onMouseOut="allhide()" onMouseOver='allshow()'></div>
         <div id="runningVehilces" onMouseOut="allhide()" onMouseOver='runningshow()'></div>
         <div id="idleVehilces" onMouseOut="allhide()" onMouseOver='idleshow()'></div>
         <div id="offlineVehilces" onMouseOut="allhide()" onMouseOver='offlineshow()'></div>
   <div id="logout" onMouseOver="this.style.opacity=1" onMouseOut="this.style.opacity=1;" class='hello'>
       <table align="center"  background="#086A87" style="border-bottom:1pt solid black;">  
        <tr>
           <th rowspan="2"> <img src="images/gvk-emri_527.png">                        </th>
           <th align="right" color="black"> <h4 id="Name"></h4></th>

       </tr>
          <tr>
          <!--  <th> 
            <font color="white"><u style="color:white;"><a onclick="back()" rel="external" style="color:white;">Back</a></u>  </font>
             </th> -->
                 <!--  <div class="accountDiv" align="left" id="acc1"><input type="button" id="reset" value="Reset Map"/></div>-->
            <!-- <th align="right"><input  type="button" id="resetallroups" value="Reset" onClick="document.getElementById('groupdevice').value='selectall'; showorhidemarkers='hide';window.localStorage.setItem('showmap','all'); maploadcount=0;allVehicleStatus();" class="button-secondary pure-button" /><input  type="button" id="reset" value="All" onMouseOver='allshow(event)' class="button-secondary pure-button" /><input type="button" id="online" value="Running" onMouseOver='runningshow(event)' class="button-success pure-button"/><input type="button" id="idle" value="Idle" onMouseOver='idleshow(event)' class='button-error pure-button'/><input type="button" id="offline1" value="Offline" onMouseOver='offlineshow(event)' class="button-warning"/><input type="button" id="MapClear" value="Clear Map" class='button-clear'/></th>                                  
             -->
           <th align="right"><input type="button" id="online" value="(0)" /><img src="images/on.gif"> 
           <input type="button" id="idle" value="(0)" /><img src="images/off.gif">
           <input type="button" id="offline1" value="(0)" /> <img src="images/NotRpt.gif"> 
              <input  type="button" id="reset" value="All" class="button-secondary pure-button" />

           <input  type="button" id="resetallroups" value="Reset" onClick="document.getElementById('groupdevice').value='selectall'; showorhidemarkers='hide';window.localStorage.setItem('showmap','all'); maploadcount=0;allVehicleStatus();" class="button-secondary pure-button" />
  
           <img src="images/pdf.png" width="20" height="20">PDF&nbsp&nbsp&nbsp<img src="images/excel.png" width="20" height="20">Excel&nbsp&nbsp&nbsp<img src="images/printer.png" width="20" height="20">Print

         </th> 

        </tr>
        <tr style="border-bottom:1pt solid black;">
            <th align="left" style="border-bottom:1pt solid black;" colspan="2">
                                <div id="menucase">

  <div id="styletwo">

    <ul>

      <li><a href="" class="current">Home</a></li>


      <li><a onclick="linveshowandhide();">Live Stats</a></li>

      <li><a onclick="getOffline()">Offline</a></li>

      <li><a onclick="inmotion()">Over Speed</a></li>
      <li><a onclick="statusReport()">Current Status</a></li>

      <li><a onclick="inmotion()">Inmotion</a></li>

<li>
            <a href="#">Contry</a>
                            <ul> <li>India</li> <li>Shree lanka </li> <li>Bangaladesh</li> <li>England</li> </ul>
                                        </li>






      <li>       <a class="changeBlue"  onclick="textview();"> <img src="images/textView.png" width="20" height="20">&nbsp&nbsp&nbsp</a></li>
         <li>   <a class="changeBlue" onclick="mapview();"><img src="images/mapView.png" width="20" height="20">&nbsp&nbsp&nbsp</a></li>
          <li>  <a class="changeBlue"  onclick="bothview();"><img src="images/bothView.png" width="20" height="20"></a></li>
</ul>
</div>
            </th>
     
      </tr>
       </table>
      
       </div>
       <!--  bottom div -->
      <!--    <div id="arrow2" onclick="reporthide()"></div>-->
       <div id="report" >
         <center>
         <table>
                <tr><th><input style="height:30px;width:200px" type="button" id="overspeed" value="Over-Speed"  class="button-secondary1 pure-button"  onclick='inmotion();'/></th>
                </tr><tr>
              <th><input style="height:30px;width:200px" type="button" id="offline" value="Offline Vehicles" class="button-secondary1 pure-button" onclick='getOffline();'/></th>
          </tr><tr>    <th><input style="height:30px;width:200px" type="button" id="online1" value="Current Status" class="button-secondary1 pure-button" onclick='statusReport();'/></th>
             </tr><tr> <th><input style="height:30px;width:200px" type="button" id="inmotion" value="Inmotion Report" class="button-secondary1 pure-button" onclick='inmotion();'/></th>
        </tr><tr>      <th><input style="height:30px;width:200px"  type="button" id="vehiclehealth" value=" Health Status " class="button-secondary1 pure-button" onclick='inmotion();'/><input type="button" id="invoice" value="Invoice "  class='buttons' onclick='inmotion();'/></th>
            </tr><tr>  <th><select id='reportFormate' style="height:30px;width:200px" class="button-secondary1 pure-button"><option value='html'>HTML</option><option value='word'>Word</option><option value='excel'>Excel</option></select></th>
          </tr>
          </table>
          </center>
       </div>
       
    <!--       <div id="bottom" onMouseOver="this.style.opacity=1" onMouseOut="this.style.opacity=1;" class='hello'>
 <br>
      
       </div> -->
    <!--       <div id="arrow" onClick="reportshow()">
  
      
       </div>-->
             <div id="wrapper" >
               <!--  div 0 -->
                <div  id="mapcontainer" class="mapcontainer" >   </div>

                <div class="load_image1" align="center">
                      <div class="load_image2"> </div>
                </div>
                <!--   <div class='hello' id="availableVehicle" onMouseOver="show();this.style.opacity=0.5;"  onMouseOut="hide();this.style.opacity=0.5;" ><table border='1' align='center'><thead><tr><th>Vehicle Id</th><th>OdoMeter Reading</th><th>Location </th><th>Status</th><th>Replay</th><th>A/C</th></tr></thead></table></div>
                <div  id="vehicleStatusReport"  onMouseOut="hide();" onMouseOver="show();this.style.opacity=0.8;" style='display:none'>   </div>
                -->
                <!--  div 1 -->
              <!-- 
                  <div class='hello' id="availableVehicle" style="width:40%;top: 152px;border-style: solid;border-color: #086A87; " ><table border='1' align='center'><thead><tr><th>Vehicle Id</th><th>OdoMeter Km/Speed</th><th>Location </th><th>Status</th></tr></thead></table><input id='ss' name='filter' onkeyup='filter(this,0)' size='5' type='text' placeholder='Vehilce Search'><input id='ad' size='5' name='filter' onkeyup='filter(this,2)' type='text' placeholder='Address Search'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</div>
   <br>            -->
<!-- <th>Status</th><th>Vehicle-Id</th><th>Phone </th><th>Base-Location</th><th>District </th><th>Division</th><th>Route</th></thead> -->
             <div class='hello' id="availableVehicle" ><table><thead><tr><td>&nbsp&nbsp</td><td><input style="width:50%" placeholder="Vehicle Search" name="timebox" id="svehicle" onkeyup='filter(this,1)'/><select id='ss' onChange='document.getElementById("svehicle").value=this.value;filter(this,1);' name='filter' style="width:20px;" ></select></td><td>&nbsp&nbsp&nbsp</td><td><input style="width:50%" id='ad' name='filter' onkeyup='filter(this,3)' type='text' placeholder='Base Location Search'>  <select style="width: 20px;" id='baselocations' onChange='document.getElementById("ad").value=this.value;getElementById("svehicle").value="";filter(this,3);loadvehicles(this.value);' ><option value='selectall'>selectall</option></select></td><td><input id='ad2' name='filter' onkeyup='filter(this,4)'  type='text' style="width:60%;" placeholder='District Search'> <select style="width: 20px;" id='groupdevice' onChange='document.getElementById("ad2").value=this.value;availabilityVehicles();document.getElementById("svehicle").value="";document.getElementById("ad").value="";searchresultshowhide();allVehicleStatus();' ><option value='selectall'>selectall</option></select></td>

<td><input id='divisionstext' name='filter'  style="width:60%" type='text' placeholder='Divisions Search'>  <select style="width: 20px;" id='divisions' onChange='document.getElementById("divisionstext").value=this.value;groupsload();document.getElementById("ad").value="";document.getElementById("ad2").value="";document.getElementById("svehicle").value="";refreshstatus();' ><option value='selectall'>selectall</option></select></td>
<td></td>

</tr>
<tr>
    <td colspan="6" style="color:white"> Filters:
     <input type="radio" name="vehiclestatus" value="any" onclick="allvehiclesInfo();"> Any
       <input type="radio" name="vehiclestatus" value="online" onclick="online();"> Moving
         <input type="radio" name="vehiclestatus" value="idle" onclick="idle();"> Stoppage

         <input type="radio" name="vehiclestatus" value="offline" onclick="offline();"> Unreachable(No Data)
         <input type="radio" name="vehiclestatus" value="overspeed" onclick="overspeedreport()"> Overspeed 
       <input type="checkbox" name="markerwithlable" value="markerwithlable"> Marker with Vehicle Name
        
  </td>

</tr>

</thead></table></div><br>
              
                <div  id="vehicleStatusReport"></div>
               
                 <!-- div2 -->
                <div id="time" style="visibility: hidden;" onMouseOver="this.style.opacity=1" onMouseOut="this.style.opacity=0.5;" class="hello">
                      <table>
                        
                          <tr>
                               <td colspan="2"><label>From Date:</label><input  id="fromDate" name="fromDate"/></td>
                          </tr>
                          <tr>
                               <td colspan="2"><label>To Date</label><input id="toDate" name="toDate"/></td>
                          </tr>
                          <tr>
                                <td colspan="1"><input type="button" id="reset" value="Reset"/></td>
                                <td colspan="1"><input type="button" id="play" value="Play" readonly="readonly"/>
                                                <select id="lableDiplay">
                                                       <option value="disable">Label Disable</option>
                                                       <option value="enable">Label Displaye</option>
                                                </select>
                                
                                </td>
                          </tr>
                          <tr>
                                  <td colspan="1"><input type="button" id="getRoute" value="Get Route"/></td>
                                   <td colspan="1"><input type="button" id="multyPath" value="Two Vehicle Path"/></td>
                           </tr>
                          
                           <tr>
                                 <td colspan="1"><input type="button" id="allVehicles" value="All Vehicles"/></td>
                                  <td colspan="1"><input type="button" id="allVehiclesWithRoutes" value="All Vehicles With Routes"/></td>
                          </tr>
                         
                      </table>
                   </div>
                   
                  <!--  div 3 --> 
                  <div id="flags" class='hello2'>
                            <table>
                       <tr><td>&nbsp&nbspTotal Vehicle &nbsp&nbsp:</td><td></td></tr>
        <tr><td>&nbsp&nbspOnline Vehicle :</td><td></td></tr>
        <tr><td></td><td>Running : </td></tr>
    	 <tr><td></td><td>Idle: </td></tr>
    	 
    	<tr><td></td><td>Stopped : </td></tr>
    	 <tr><td>&nbsp&nbspOffline &nbsp&nbsp&nbsp&nbsp&nbsp : </td><td></td></tr>
                    </table>
                    <!--    <table>
                          <tr>
                             
                               <td> Running <img src="images/ambulance/RunningS.png"  width="20"  height="20"></td>
                              <td> Idle<img src="images/ambulance/IdleS.png"  width="20" height="20"></td>
                              <td> Ignition Off<img src="images/ambulance/stoppedS.png" width="20" height="20"></td>
                               <td> Offline <img src="images/ambulance/offlineS.png"  width="20" height="20"></td>
                              
                          </tr>
                      </table>
                      
                       -->
                      
                       
                  </div>
                  <!--   <div id="msg" style="width:300px;height:300px;background:white;display:none;overflow-y:scroll" onMouseOver="this.style.opacity=1" onMouseOut="document.getElementById('mail').style.display='block';document.getElementById('msg').style.display='none'"><div id="msgcontent"></div></div>
               -->   <div id="mail"><input  type="button" id="reportAnalysis" value="Reports" class="button-secondary1 pure-button" onclick="Showandhide()"/></div>
       
<!--          <div id="searchresult"><input type="button" id="search" value="Show/Hide" class="button-secondary pure-button" onclick="searchresultshowhide()"/></div>
      <div id="live"><input  type="button" id="live1" value="Live" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>
      -->
<!--
       <div id="div1"><input  type="button" id="live2" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>

         <div id="div2"><input  type="button" id="live3" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>

            <div id="div3"><input  type="button" id="live4" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>

          <div id="div4"><input  type="button" id="live5" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>

          <div id="div5"><input  type="button" id="live6" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>



    <div id="div6"><input  type="button" id="live7" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>
    <div id="div7"><input  type="button" id="live8" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>
    <div id="div8"><input  type="button" id="live9" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>
    <div id="div9"><input type="button" id="live10" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>
    <div id="div10"><input  type="button" id="live11" value="" class="button-secondary1 pure-button" onclick="linveshowandhide()"/></div>


-->

 <div id="casemanagement">
      <!--   <table style="width:100%;height:100%"> 
          
          <tr><td> <div style="font-size: 15px;position: absolute; background-color: transparent;  z-index: 99; background: #0A2A0A ;border-radius:10px;opacity:0.8;width:200px;height:50px;color:white"> Attending Case</div><br> </td></tr>
          <tr><td>  <div style="font-size: 15px;position: absolute; background-color: transparent; z-index: 99; background: #FAAC58;border-radius:10px;opacity:0.8;width:200px;height:50px;color:white"> Scene/Hospital</div><br></td></tr>
          <tr><td> <div style="font-size: 15px;position: absolute; background-color: transparent; z-index: 99; background: #8A0808 ;border-radius:10px;opacity:0.8;width:200px;height:50px;color:white"> Ready to take case</div><br></td></tr>
         <tr><td>  <div id="installeddevices" style=" bold;font-size: 15px;position: absolute; background-color: transparent; z-index: 99; background:#01DFD7 ;border-radius:10px;opacity:0.8;width:200px;height:50px;color:white"> Total GPS Installed</div><br></td></tr>
           -->

  </div>
  <div id="contactsearch">
           <input  style="width:100%;opacity:1" type='text' placeholder='contact search' onkeyup='filter1(this,1)' id='contactphone'>
           <div class='hello' style='opacity:1;height:25px;border:solid 2px orange;background: white;border-radius: 10px;' id="contactsearch1">

           </div>


   </div>


 <div id="cmgtshowhide"><input type="button" id="cmgt" value="show/hide" class="button-secondary pure-button" onclick="cmgtshowhide()"/></div>


        </div>
        
  <!--      <div align="center">Powered by <a class="changeBlue" href=""  onclick="window.open('http://www.glovision.co')">Glovision</a></div>
             <div id="footer" data-role="footer" data-theme="f" style="background-color:#81DAF5"> Copyright Â© 2013   Glovision Techno Services Pvt Ltd. " - All Rights Reserved "</div>
            
      -->   </body>
</html>
